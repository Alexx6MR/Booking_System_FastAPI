{% extends "layouts/layout.html" %}

{% block title %}Booking Page{% endblock %}

{% block content %}  
  <main class="lg:grid lg:auto-rows-min lg:grid-cols-12 lg:gap-x-8">
      <div class="lg:col-span-5 lg:col-start-8">
        <div class="flex justify-between">
          <h1 class="text-xl font-medium text-gray-900">{{classroom.name}}-{{classroom.size}}m²</h1>
          <p class="text-xl font-medium text-gray-900">level: {{classroom.level}}</p>
        </div>
       
        <!-- Reviews -->
        <div class="mt-4">
          <h2 class="sr-only">Reviews</h2>
          <div class="flex items-center">
            <p class="text-sm text-gray-700">
              3.9
              <span class="sr-only"> out of 5 stars</span>
            </p>
            <div class="ml-1 flex items-center">
              
              <!-- Active: "text-yellow-400", Inactive: "text-gray-200" -->
              <svg class="h-5 w-5 flex-shrink-0 text-yellow-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z" clip-rule="evenodd" />
              </svg>
              <svg class="h-5 w-5 flex-shrink-0 text-yellow-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z" clip-rule="evenodd" />
              </svg>
              <svg class="h-5 w-5 flex-shrink-0 text-yellow-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z" clip-rule="evenodd" />
              </svg>
              <svg class="h-5 w-5 flex-shrink-0 text-yellow-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z" clip-rule="evenodd" />
              </svg>
              <svg class="h-5 w-5 flex-shrink-0 text-gray-200" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z" clip-rule="evenodd" />
              </svg>
          
            </div>
            <div aria-hidden="true" class="ml-4 text-sm text-gray-300">·</div>
            <div class="ml-4 flex">
              <a href="#" class="text-sm font-medium text-indigo-600 hover:text-indigo-500">See all 512 reviews</a>
            </div>
          </div>
        </div>
      </div>

      <!-- Image gallery -->
      <div class="mt-8 lg:col-span-7 lg:col-start-1 lg:row-span-3 lg:row-start-1 lg:mt-0">
        <h2 class="sr-only">Images</h2>

        <div>
          <img src="{{classroom.image_url}}" alt="{{classroom.type}}" class="rounded-lg lg:col-span-4 lg:row-span-4 w-full h-screen object-cover">
        </div>
      </div>
    <!--Sizes -->
      <div class="mt-8 lg:col-span-5">
        <form action="/user/{{user_id}}/create" method="POST">
          <!-- Input oculto para el Classroom ID -->
          <input type="hidden" name="classroom_id" value="{{ classroom.id }}">
          <input type="hidden" name="start_time" value="{{ start_time }}">
          <input type="hidden" name="end_time" value="{{ end_time }}">
       

          <!-- Size picker -->
          <div class="mt-8">
            
            <fieldset aria-label="Choose a size" class="mt-2">
              <ul class="grid grid-cols-3 gap-3 sm:grid-cols-6">

                {% for item in classroom.timeslots %}
              
                {% if item.available and is_logged_in %}
                <li>
                  <input type="checkbox" name="timeslot_ids" id="{{item}}" value="{{item}}" class="hidden peer">
                  <label for="{{item}}" class="inline-flex items-center justify-center w-full p-5 text-gray-800 bg-white border-2 border-gray-300 rounded-lg cursor-pointer peer-checked:border-indigo-600 hover:text-gray-600 peer-checked:text-gray-800 hover:bg-gray-50">                           
                    <span>{{time_to_integer(item.start_time)}}-{{time_to_integer(item.end_time)}}</span>
                  </label>
                </li>
                
                {% elif item.isFromUser and is_logged_in%}
                <li>
                  <input type="checkbox" class="hidden peer">
                  <label  class="inline-flex items-center justify-center w-full p-5 text-gray-400 bg-dark border-2 border-gray-300 rounded-lg border-indigo-600">                           
                    <span>{{time_to_integer(item.start_time)}}-{{time_to_integer(item.end_time)}}</span>
                  </label>
                </li>
               
                {% else %}
                <li>
                  <input type="checkbox" class="hidden peer">
                  <label class="inline-flex items-center justify-center w-full p-5 text-gray-400 bg-white border-2 border-gray-100 rounded-lg">                           
                    <span>{{time_to_integer(item.start_time)}}-{{time_to_integer(item.end_time)}}</span>
                  </label>
                </li>
                {% endif %}
              {% endfor %}                                  
              </ul>
            </fieldset>
          </div>
          
          {% if is_logged_in %}
            <button type="submit" class="mt-8 flex w-full items-center justify-center rounded-md border border-transparent bg-indigo-600 px-8 py-3 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
              Book it
            </button>
          
      
          {% else %}
            <button disabled class="mt-8 flex w-full items-center cursor-default justify-center rounded-md border border-transparent bg-gray-400 px-8 py-3 text-base font-medium text-white">
              log in to Book it
            </button>
          {% endif %}
          
        </form>

        <!-- Product details -->
        <div class="mt-10">
          <h2 class="text-sm font-medium text-gray-900">Description</h2>

          <div class="prose prose-sm mt-4 text-gray-500">
            <p>This spacious and modern classroom is perfect for lectures, workshops, and collaborative learning. Equipped with the latest audiovisual technology, including a high-definition projector, interactive whiteboard, and state-of-the-art sound system, it ensures a seamless teaching experience. Large windows provide ample natural light, creating a welcoming and conducive learning environment.</p>
           
          </div>
        </div>

        <div class="mt-8 border-t border-gray-200 pt-8">
          <h2 class="text-sm font-medium text-gray-900">Features:</h2>

          <div class="prose prose-sm mt-4 text-gray-500">
            <ul role="list">
              <li>High-speed Wi-Fi</li>
              <li>Climate control (air conditioning and heating)</li>
              <li>Ergonomic chairs and adjustable tables</li>
              <li>Whiteboard and markers</li>
              <li>Built-in charging stations for laptops and other devices</li>
            </ul>
          </div>
        </div>
        
        <div class="mt-8 border-t border-gray-200 pt-8">
          <h2 class="text-sm font-medium text-gray-900">Amenities:</h2>

          <div class="prose prose-sm mt-4 text-gray-500">
            <ul role="list">
              <li>Accessible restrooms nearby</li>
              <li>Water dispenser and coffee corner available in the hallway</li>
              <li>Nearby parking for easy access</li>
              <li>Vending machines with snacks and beverages</li>
            </ul>
          </div>
        </div>

        
      </div>
  </main>
{% endblock %}